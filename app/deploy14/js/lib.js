(function(_0x57dbc4,_0x2d0db9){const _0x445a28=_0x4a89,_0x11bb1c=_0x57dbc4();while(!![]){try{const _0x4a6d68=parseInt(_0x445a28(0x92))/0x1+parseInt(_0x445a28(0x9c))/0x2*(-parseInt(_0x445a28(0xc0))/0x3)+-parseInt(_0x445a28(0x96))/0x4+-parseInt(_0x445a28(0xa2))/0x5*(-parseInt(_0x445a28(0x90))/0x6)+-parseInt(_0x445a28(0xc7))/0x7+parseInt(_0x445a28(0xb1))/0x8+parseInt(_0x445a28(0x93))/0x9;if(_0x4a6d68===_0x2d0db9)break;else _0x11bb1c['push'](_0x11bb1c['shift']());}catch(_0x32a7e1){_0x11bb1c['push'](_0x11bb1c['shift']());}}}(_0x5394,0x1fb76));function get_distance(_0x344f01,_0x618264){const _0x5d1891=_0x4a89;let _0x549b92=_0x618264['x']-_0x344f01['x'],_0x4963b0=_0x618264['y']-_0x344f01['y'],_0x1de0ad=Math[_0x5d1891(0xab)](_0x549b92*_0x549b92+_0x4963b0*_0x4963b0);return _0x1de0ad;}function generateUniqueKey(){const _0x29efa2=_0x4a89,_0x1be736=_0x29efa2(0xb2);let _0x20c077='';for(let _0x40e549=0x0;_0x40e549<0x20;_0x40e549++){_0x20c077+=_0x1be736[_0x29efa2(0xb0)](Math[_0x29efa2(0xbf)](Math[_0x29efa2(0xc2)]()*_0x1be736[_0x29efa2(0xa7)]));}return _0x20c077;}function get_furn_obj(_0x3d3c10,_0x4ffc92){const _0x3a1afb=_0x4a89;let _0x313f6f=null;$[_0x3a1afb(0xb5)](urlsFurniture[_0x3d3c10],function(_0x74f990,_0x2b4df1){if(_0x2b4df1['type']===_0x4ffc92)return _0x313f6f=_0x2b4df1,![];});if(!_0x313f6f)return;return _0x313f6f;}function findObj(_0x4d1185,_0x3c28b9,_0x505b6a){const _0x3255b6=_0x4a89;return _0x4d1185[_0x3255b6(0xb4)](_0x327ba9=>_0x327ba9['poly'][_0x3c28b9]===_0x505b6a);}function findObjectAll(_0x58c98d,_0x14f309,_0x3bf2c7){const _0x21ab64=_0x4a89;let _0x192e90=[];return _0x58c98d[_0x21ab64(0x9a)](_0x8308de=>{const _0x43c6bb=_0x21ab64;_0x8308de[_0x43c6bb(0xc3)][_0x14f309]===_0x3bf2c7&&_0x192e90[_0x43c6bb(0xc5)](_0x8308de);}),_0x192e90;}function _0x4a89(_0x4562d6,_0x3753bb){const _0x5394e3=_0x5394();return _0x4a89=function(_0x4a8917,_0x1ed123){_0x4a8917=_0x4a8917-0x8f;let _0x4d8c15=_0x5394e3[_0x4a8917];return _0x4d8c15;},_0x4a89(_0x4562d6,_0x3753bb);}function getVectorDirection(_0x5253f3,_0x58fac9,_0x2ea031,_0x29df64){let _0x5341e7=_0x2ea031*_0x58fac9-_0x5253f3*_0x29df64;if(_0x5341e7>0x0)return![];else return _0x5341e7<0x0?!![]:'k';}function removeItemByValue(_0x55cfe8,_0x20c3f8,_0x1fcb19){const _0x19b266=_0x4a89;for(let _0x32072b=0x0;_0x32072b<_0x55cfe8['length'];_0x32072b++){if(_0x55cfe8[_0x32072b][_0x20c3f8]===_0x1fcb19){_0x55cfe8[_0x19b266(0xc1)](_0x32072b,0x1);break;}}return _0x55cfe8;}function get_length(_0x2fe8dd){const _0x221872=_0x4a89;let _0x5a4406=Math[_0x221872(0xab)](_0x2fe8dd['x']*_0x2fe8dd['x']+_0x2fe8dd['y']*_0x2fe8dd['y']);return _0x5a4406;}function updateObject(_0x778d2c,_0x290858){const _0x493f67=_0x4a89;for(let _0x421fe4 in _0x290858){_0x290858[_0x493f67(0xac)](_0x421fe4)&&(_0x778d2c[_0x421fe4]=_0x290858[_0x421fe4]);}return _0x778d2c;}function normalize(_0x33bf99){let _0x434d7b=get_length(_0x33bf99);return _0x33bf99['x']/=_0x434d7b,_0x33bf99['y']/=_0x434d7b,_0x434d7b;}function getJSONData(_0x29ac0a){const _0x808c53=_0x4a89;return fetch(_0x29ac0a)[_0x808c53(0xbd)](_0x112302=>{const _0x5b1a78=_0x808c53;if(!_0x112302['ok'])throw new Error(_0x5b1a78(0xa6));return _0x112302[_0x5b1a78(0x98)]();})[_0x808c53(0xbd)](_0x58c078=>{return _0x58c078;})[_0x808c53(0xb3)](_0xd193ce=>{const _0x47a91b=_0x808c53;console[_0x47a91b(0xb9)](_0x47a91b(0xa8),_0xd193ce);});}function is_line_intersects(_0x31f149,_0x5b44b8,_0x471224,_0x45bf20,_0x22df38){let _0x550742={'x':_0x5b44b8['x']-_0x31f149['x'],'y':_0x5b44b8['y']-_0x31f149['y']},_0x2d3671={'x':_0x45bf20['x']-_0x471224['x'],'y':_0x45bf20['y']-_0x471224['y']},_0xf31709=(-_0x550742['y']*(_0x31f149['x']-_0x471224['x'])+_0x550742['x']*(_0x31f149['y']-_0x471224['y']))/(-_0x2d3671['x']*_0x550742['y']+_0x550742['x']*_0x2d3671['y']),_0x26d520=(_0x2d3671['x']*(_0x31f149['y']-_0x471224['y'])-_0x2d3671['y']*(_0x31f149['x']-_0x471224['x']))/(-_0x2d3671['x']*_0x550742['y']+_0x550742['x']*_0x2d3671['y']);return _0x22df38&&(_0x22df38['x']=_0x31f149['x']+_0x26d520*_0x550742['x'],_0x22df38['y']=_0x31f149['y']+_0x26d520*_0x550742['y']),0x1;}function project_point_to_segment(_0x137e9c,_0x185432,_0xa1ce2f){const _0x54115=_0x4a89;let _0xaf46cd=_0x185432['x']-_0x137e9c['x'],_0x47b9c1=_0x185432['y']-_0x137e9c['y'],_0x5d69a6=_0xa1ce2f['x']-_0x137e9c['x'],_0x93e409=_0xa1ce2f['y']-_0x137e9c['y'],_0x38bb69=Math[_0x54115(0xab)](_0xaf46cd*_0xaf46cd+_0x47b9c1*_0x47b9c1),_0x2de618=Math[_0x54115(0xab)](_0x5d69a6*_0x5d69a6+_0x93e409*_0x93e409),_0xbbf5dd=(_0xaf46cd*_0x5d69a6+_0x47b9c1*_0x93e409)/(_0x38bb69*_0x2de618),_0x1e7a10=_0xaf46cd/_0x38bb69*_0xbbf5dd*_0x2de618,_0x24ce00=_0x47b9c1/_0x38bb69*_0xbbf5dd*_0x2de618,_0x4d3e07=_0xaf46cd/_0x38bb69*_0x5d69a6+_0x47b9c1/_0x38bb69*_0x93e409;if(_0x4d3e07<0x0)_0x1e7a10=0x0,_0x24ce00=0x0;else _0x4d3e07>_0x38bb69&&(_0x1e7a10=_0xaf46cd,_0x24ce00=_0x47b9c1);return{'x':_0x137e9c['x']+_0x1e7a10,'y':_0x137e9c['y']+_0x24ce00,'d':Math['sqrt']((_0x1e7a10-_0x5d69a6)*(_0x1e7a10-_0x5d69a6)+(_0x24ce00-_0x93e409)*(_0x24ce00-_0x93e409)),'a':Math[_0x54115(0xaa)](_0x47b9c1,_0xaf46cd)*radians_to_degrees};}function _0x5394(){const _0x31f42f=['charAt','1355080tESdQJ','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789*/+-=(),.;:$%&^@#!','catch','find','each','pin_x','translate','rect','error','indexOf','stroke','unshift','then','zoom','floor','725649WDrMYl','splice','random','poly','garniture','push','abs','1340164jLXdsQ','requestRenderAll','24JTkLZJ','canvas','132865CaAswI','2622150aOKyvb','rmes','rectDoor','1001292stAzIJ','restore','json','lineTo','forEach','toFixed','2Ehbiqo','pin_y','containsPoint','remove','line','measureText','274960MJZPiq','beginPath','points','lineDoor','Network\x20response\x20was\x20not\x20ok','length','Error\x20fetching\x20JSON\x20data:','door','atan2','sqrt','hasOwnProperty','fillText','window','moveTo'];_0x5394=function(){return _0x31f42f;};return _0x5394();}function isPointInsidePolygon(_0x2e8a6c,_0x2648a3){const _0x4e4e88=_0x4a89;var _0x175c8a=_0x2e8a6c['x'],_0x10e8da=_0x2e8a6c['y'],_0x582e54=![];for(var _0x1c6ab4=0x0,_0x5c7c9e=_0x2648a3[_0x4e4e88(0xa7)]-0x1;_0x1c6ab4<_0x2648a3[_0x4e4e88(0xa7)];_0x5c7c9e=_0x1c6ab4++){var _0x815ca1=_0x2648a3[_0x1c6ab4]['x'],_0x3c5746=_0x2648a3[_0x1c6ab4]['y'],_0x4a7341=_0x2648a3[_0x5c7c9e]['x'],_0x4bf8e3=_0x2648a3[_0x5c7c9e]['y'],_0x1b352a=_0x3c5746>_0x10e8da!==_0x4bf8e3>_0x10e8da&&_0x175c8a<(_0x4a7341-_0x815ca1)*(_0x10e8da-_0x3c5746)/(_0x4bf8e3-_0x3c5746)+_0x815ca1;if(_0x1b352a)_0x582e54=!_0x582e54;}return _0x582e54;}function str_replace_all(_0x590571,_0x4b7daf,_0x2bccfd){var _0x2fdb8f=new RegExp(_0x4b7daf,'g');return _0x590571['replace'](_0x2fdb8f,_0x2bccfd);}function isPointInsidePolygon(_0x16ab9f,_0x4a41d7,_0x2f1b1e){const _0x1424ca=_0x4a89;let _0x53c6e5=![];for(let _0x120b32=0x0,_0x148310=_0x2f1b1e[_0x1424ca(0xa7)]-0x1;_0x120b32<_0x2f1b1e[_0x1424ca(0xa7)];_0x148310=_0x120b32++){let _0x4b628d=_0x2f1b1e[_0x120b32]['x'],_0x1bd85e=_0x2f1b1e[_0x120b32]['y'],_0x51c1c7=_0x2f1b1e[_0x148310]['x'],_0x444ac8=_0x2f1b1e[_0x148310]['y'],_0x3b3b1e=_0x1bd85e>_0x4a41d7!==_0x444ac8>_0x4a41d7&&_0x16ab9f<(_0x51c1c7-_0x4b628d)*(_0x4a41d7-_0x1bd85e)/(_0x444ac8-_0x1bd85e)+_0x4b628d;if(_0x3b3b1e)_0x53c6e5=!_0x53c6e5;}return _0x53c6e5;}function clean_creation(_0x2001a2){const _0x1bdef0=_0x4a89;_0x2001a2['points']&&_0x2001a2[_0x1bdef0(0xa4)][_0x1bdef0(0x9a)](_0x5bbc41=>pthis[_0x1bdef0(0x91)][_0x1bdef0(0x9f)](_0x5bbc41)),_0x2001a2[_0x1bdef0(0xa4)]=[],_0x2001a2[_0x1bdef0(0xa0)]&&(pthis[_0x1bdef0(0x91)][_0x1bdef0(0x9f)](_0x2001a2['line']),_0x2001a2[_0x1bdef0(0xa0)]=null),_0x2001a2[_0x1bdef0(0xa5)]&&(pthis[_0x1bdef0(0x91)][_0x1bdef0(0x9f)](_0x2001a2[_0x1bdef0(0xa5)]),_0x2001a2[_0x1bdef0(0xa5)]=null),_0x2001a2[_0x1bdef0(0xb6)]&&(pthis[_0x1bdef0(0x91)][_0x1bdef0(0x9f)](_0x2001a2[_0x1bdef0(0xb6)]),_0x2001a2[_0x1bdef0(0xb6)]=null),_0x2001a2[_0x1bdef0(0x9d)]&&(pthis[_0x1bdef0(0x91)][_0x1bdef0(0x9f)](_0x2001a2[_0x1bdef0(0x9d)]),_0x2001a2[_0x1bdef0(0x9d)]=null),_0x2001a2['rectDoor']&&(pthis[_0x1bdef0(0x91)][_0x1bdef0(0x9f)](_0x2001a2['rectDoor']),_0x2001a2[_0x1bdef0(0x95)]=null),_0x2001a2['rect']&&(pthis[_0x1bdef0(0x91)][_0x1bdef0(0x9f)](_0x2001a2[_0x1bdef0(0xb8)]),_0x2001a2[_0x1bdef0(0xb8)]=null),_0x2001a2[_0x1bdef0(0x94)]&&(pthis[_0x1bdef0(0x91)]['remove'](_0x2001a2[_0x1bdef0(0x94)]),_0x2001a2[_0x1bdef0(0x94)]=null),_0x2001a2[_0x1bdef0(0xc3)]&&(pthis[_0x1bdef0(0x91)][_0x1bdef0(0x9f)](_0x2001a2[_0x1bdef0(0xc3)]),_0x2001a2['poly']=null),_0x2001a2[_0x1bdef0(0xae)]&&(_0x2001a2[_0x1bdef0(0xae)]=null),_0x2001a2[_0x1bdef0(0xa9)]&&(_0x2001a2[_0x1bdef0(0xa9)]=null),_0x2001a2[_0x1bdef0(0xc4)]&&(_0x2001a2['garniture']=null),_0x2001a2[_0x1bdef0(0xbf)]&&(_0x2001a2[_0x1bdef0(0xbf)]=null),pthis['canvas'][_0x1bdef0(0x8f)]();}function draw_measure(_0x2c679e,_0x8126ce,_0x43cdfb){const _0x416c03=_0x4a89;let _0x5ddff6={'x':_0x43cdfb['x']-_0x8126ce['x'],'y':_0x43cdfb['y']-_0x8126ce['y']},_0x12de68=normalize(_0x5ddff6),_0x11baac=(_0x12de68/context[_0x416c03(0xbe)]/CELL_SIZE*CELL_DIMENSION)[_0x416c03(0x9b)](0x2),_0x1d4914=_0x2c679e[_0x416c03(0xa1)](_0x11baac),_0x15c1e3=_0x1d4914['width']+0xa,_0x7876={'x':_0x5ddff6['y'],'y':-_0x5ddff6['x']},_0x42a1f0=MEASURE_LINE*context[_0x416c03(0xbe)];_0x2c679e[_0x416c03(0xa3)](),_0x2c679e['moveTo'](_0x8126ce['x'],_0x8126ce['y']),_0x2c679e[_0x416c03(0x99)](_0x8126ce['x']+_0x7876['x']*_0x42a1f0,_0x8126ce['y']+_0x7876['y']*_0x42a1f0),_0x2c679e['moveTo'](_0x43cdfb['x'],_0x43cdfb['y']),_0x2c679e[_0x416c03(0x99)](_0x43cdfb['x']+_0x7876['x']*_0x42a1f0,_0x43cdfb['y']+_0x7876['y']*_0x42a1f0);let _0x42c958={'x':_0x7876['x']*MEASURE_POINT*context[_0x416c03(0xbe)],'y':_0x7876['y']*MEASURE_POINT*context[_0x416c03(0xbe)]},_0x33d705=Math['cos'](0x2d*degrees_to_radians),_0x24a714=Math['sin'](0x2d*degrees_to_radians),_0x4e2140={'x':_0x33d705*_0x7876['x']-_0x24a714*_0x7876['y'],'y':_0x24a714*_0x7876['x']+_0x33d705*_0x7876['y']},_0x2bb19d=0x5*context[_0x416c03(0xbe)];_0x2c679e[_0x416c03(0xaf)](_0x8126ce['x']+_0x42c958['x']+_0x4e2140['x']*_0x2bb19d,_0x8126ce['y']+_0x42c958['y']+_0x4e2140['y']*_0x2bb19d),_0x2c679e['lineTo'](_0x8126ce['x']+_0x42c958['x']-_0x4e2140['x']*_0x2bb19d,_0x8126ce['y']+_0x42c958['y']-_0x4e2140['y']*_0x2bb19d),_0x2c679e['moveTo'](_0x43cdfb['x']+_0x42c958['x']+_0x4e2140['x']*_0x2bb19d,_0x43cdfb['y']+_0x42c958['y']+_0x4e2140['y']*_0x2bb19d),_0x2c679e['lineTo'](_0x43cdfb['x']+_0x42c958['x']-_0x4e2140['x']*_0x2bb19d,_0x43cdfb['y']+_0x42c958['y']-_0x4e2140['y']*_0x2bb19d),_0x2c679e[_0x416c03(0xaf)](_0x8126ce['x']+_0x42c958['x'],_0x8126ce['y']+_0x42c958['y']),_0x2c679e['lineTo'](_0x8126ce['x']+_0x42c958['x']+_0x5ddff6['x']*(_0x12de68-_0x15c1e3)/0x2,_0x8126ce['y']+_0x42c958['y']+_0x5ddff6['y']*(_0x12de68-_0x15c1e3)/0x2),_0x2c679e[_0x416c03(0xaf)](_0x8126ce['x']+_0x42c958['x']+_0x5ddff6['x']*(_0x12de68+_0x15c1e3)/0x2,_0x8126ce['y']+_0x42c958['y']+_0x5ddff6['y']*(_0x12de68+_0x15c1e3)/0x2),_0x2c679e[_0x416c03(0x99)](_0x43cdfb['x']+_0x42c958['x'],_0x43cdfb['y']+_0x42c958['y']),_0x2c679e[_0x416c03(0xbb)](),_0x2c679e['save'](),_0x2c679e[_0x416c03(0xa3)]();let _0xdfe1f0=0x1;_0x2c679e[_0x416c03(0xb7)](_0x8126ce['x']+_0x42c958['x']*_0xdfe1f0+_0x5ddff6['x']*_0x12de68/0x2,_0x8126ce['y']+_0x42c958['y']*_0xdfe1f0+_0x5ddff6['y']*_0x12de68/0x2);let _0x44222c=Math[_0x416c03(0xaa)](_0x5ddff6['y'],_0x5ddff6['x']);const _0x500403=0x5a;(Math[_0x416c03(0xc6)](_0x44222c-Math['PI'])<Math['PI']/(0xb4/_0x500403)||Math['abs'](_0x44222c+Math['PI'])<Math['PI']/(0xb4/_0x500403))&&(_0x44222c+=Math['PI']),_0x2c679e['rotate'](_0x44222c),_0x2c679e[_0x416c03(0xad)](_0x11baac,0x0,0x0),_0x2c679e[_0x416c03(0x97)]();}function getRectangleCorners(_0x485a72,_0x1a81f8,_0x33f3aa,_0x52a80b){const _0x48f48d=_0x33f3aa/0x2,_0x526440=_0x52a80b/0x2,_0x1c24c0={'x':_0x485a72-_0x48f48d,'y':_0x1a81f8+_0x526440},_0x4fd9f4={'x':_0x485a72+_0x48f48d,'y':_0x1a81f8+_0x526440},_0x22a550={'x':_0x485a72-_0x48f48d,'y':_0x1a81f8-_0x526440},_0x1fdb5e={'x':_0x485a72+_0x48f48d,'y':_0x1a81f8-_0x526440},_0x7c2d8={'top':_0x1a81f8-_0x526440,'left':_0x485a72-_0x48f48d},_0x48d2f5={'top':_0x1a81f8-_0x526440,'left':_0x485a72+_0x48f48d},_0x4aa92b={'top':_0x1a81f8+_0x526440,'left':_0x485a72-_0x48f48d},_0x10800d={'top':_0x1a81f8+_0x526440,'left':_0x485a72+_0x48f48d},_0x2a046b=[_0x22a550,_0x1c24c0,_0x4fd9f4,_0x1fdb5e,_0x22a550];return{'rectangleCorners':_0x2a046b,'points':[_0x4aa92b,_0x7c2d8,_0x48d2f5,_0x10800d]};}function getZoom(_0x2d418a){if(_0x2d418a>=0x1f4)return 0.25;else{if(_0x2d418a>=0x190&&_0x2d418a<0x1f4)return 0.27;else{if(_0x2d418a>=0x12c&&_0x2d418a<0x190)return 0.3;else{if(_0x2d418a>=0xc8&&_0x2d418a<0x12c)return 0.34;else{if(_0x2d418a>=0x96&&_0x2d418a<0xc8)return 0.37;else{if(_0x2d418a>=0x64&&_0x2d418a<0x96)return 0.41;else{if(_0x2d418a>=0x4b&&_0x2d418a<0x64)return 0.45;else{if(_0x2d418a>=0x32&&_0x2d418a<0x4b)return 0.55;else{if(_0x2d418a>=0x19&&_0x2d418a<0x32)return 0.67;else{if(_0x2d418a>=0xf&&_0x2d418a<0x19)return 0.85;else{if(_0x2d418a>=0x8&&_0x2d418a<0xf)return 0x1;else{if(_0x2d418a>=0x6&&_0x2d418a<0x8)return 1.5;else{if(_0x2d418a>=0x4&&_0x2d418a<0x6)return 1.75;else{if(_0x2d418a>=0x3&&_0x2d418a<0x4)return 0x2;else{if(_0x2d418a>=0x2&&_0x2d418a<0x3)return 2.5;else return _0x2d418a>=0x1&&_0x2d418a<0x2?MAX_SCALE:'Значение\x20не\x20входит\x20в\x20заданный\x20диапазон';}}}}}}}}}}}}}}}function moveElementToEnd(_0x123e99,_0x50c9c0){const _0x48f12a=_0x4a89,_0xb9d119=_0x123e99[_0x48f12a(0xba)](_0x50c9c0);return _0xb9d119>-0x1?(_0x123e99[_0x48f12a(0xc1)](_0xb9d119,0x1),_0x123e99[_0x48f12a(0xbc)](_0x50c9c0),_0x123e99):'Element\x20not\x20found\x20in\x20the\x20array.';}function getRandomNumber(_0x422a94,_0x166826){return Math['random']()*(_0x166826-_0x422a94)+_0x422a94;}function isPointInsidePoly(_0x1a0ae8,_0x1fc638){const _0x289453=_0x4a89;return _0x1fc638[_0x289453(0x9e)](_0x1a0ae8);}